document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".video-thumbnail"),t=document.querySelectorAll(".video-item"),l=document.querySelector(".play-btn"),s=document.getElementById("videoModal"),i=document.getElementById("videoPlayer"),r=document.querySelector(".close"),a=document.querySelector("#success-snippet"),o=document.querySelector(".video-carousel"),n=document.querySelector(".carousel-button.prev"),c=document.querySelector(".carousel-button.next"),d=document.querySelectorAll(".problem"),u=document.querySelectorAll(".problem-image img"),v=document.querySelectorAll(".faq-item"),y=0;function p(){window.innerWidth<=768?(n.style.display="block",c.style.display="block"):(n.style.display="none",c.style.display="none")}if(v.forEach(e=>{let t=e.querySelector(".faq-question");t.addEventListener("click",()=>{e.classList.toggle("active")})}),p(),window.addEventListener("resize",p),n.addEventListener("click",()=>{o.scrollBy({left:-220,behavior:"smooth"})}),c.addEventListener("click",()=>{o.scrollBy({left:220,behavior:"smooth"})}),t.forEach(t=>{t.addEventListener("click",function(){let t=this.dataset.thumbnail,s=this.dataset.snippet,i=this.dataset.video,r=this.dataset.author;e.querySelector("img").src=t,a.textContent=s;let o=document.getElementById("video-author-main");o||((o=document.createElement("p")).id="video-author-main",a.parentNode.insertBefore(o,a.nextSibling)),o.textContent=r,l.dataset.video=i,e.scrollIntoView({behavior:"smooth"})})}),l.addEventListener("click",function(){let e=this.dataset.video;i.src=e,s.style.display="block",i.style.width="100%",i.style.height="100%",i.play()}),r.addEventListener("click",function(){s.style.display="none",i.pause(),i.currentTime=0}),window.addEventListener("click",function(e){e.target==s&&(s.style.display="none",i.pause(),i.currentTime=0)}),t.length>0){let m=t[0];e.querySelector("img").src=m.dataset.thumbnail,a.textContent=m.dataset.snippet;let h=document.createElement("p");h.id="video-author-main",h.textContent=m.dataset.author,a.parentNode.insertBefore(h,a.nextSibling),l.dataset.video=m.dataset.video}function f(e){d.forEach((t,l)=>{l===e?(t.classList.add("active"),u[l].classList.add("active")):(t.classList.remove("active"),u[l].classList.remove("active"))})}f(y),d.forEach((e,t)=>{e.addEventListener("click",()=>{f(t),y=t})}),setInterval(()=>{f(y=(y+1)%d.length)},15e3);let E=document.getElementById("cv-request-form"),q=E.querySelectorAll(".form-step"),L=document.querySelectorAll(".progress-indicator .step"),S=E.querySelectorAll(".next-step"),b=E.querySelectorAll(".prev-step");function g(e){let t=e.querySelectorAll("input[required], select[required]"),l=!0;return t.forEach(e=>{e.value?e.classList.remove("error"):(l=!1,e.classList.add("error"))}),l}function $(e){L.forEach(t=>{let l=t.closest(".step-item");t.dataset.step<=e?(t.classList.add("active"),l.querySelector(".step-label").style.color="#004080"):(t.classList.remove("active"),l.querySelector(".step-label").style.color="#666")})}S.forEach(e=>{e.addEventListener("click",()=>{let t=e.closest(".form-step"),l=t.nextElementSibling;g(t)&&(t.classList.remove("active"),l.classList.add("active"),$(l.dataset.step))})}),b.forEach(e=>{e.addEventListener("click",()=>{let t=e.closest(".form-step"),l=t.previousElementSibling;t.classList.remove("active"),l.classList.add("active"),$(l.dataset.step)})}),E.addEventListener("submit",function(e){e.preventDefault(),g(q[q.length-1])&&(window.location.href="thank-you.html")})});