document.addEventListener("DOMContentLoaded",function(){const c=document.querySelector(".video-thumbnail"),t=document.querySelectorAll(".video-item"),l=document.querySelector(".play-btn"),o=document.getElementById("videoModal"),s=document.getElementById("videoPlayer"),e=document.querySelector(".close"),r=document.querySelector("#success-snippet"),n=document.querySelector(".video-carousel"),i=document.querySelector(".carousel-button.prev"),a=document.querySelector(".carousel-button.next"),d=document.querySelectorAll(".problem"),u=document.querySelectorAll(".problem-image img"),m=document.querySelectorAll(".faq-item");let v=0;function y(){window.innerWidth<=768?(i.style.display="block",a.style.display="block"):(i.style.display="none",a.style.display="none")}if(m.forEach(e=>{const t=e.querySelector(".faq-question");t.addEventListener("click",()=>{e.classList.toggle("active")})}),y(),window.addEventListener("resize",y),i.addEventListener("click",()=>{n.scrollBy({left:-220,behavior:"smooth"})}),a.addEventListener("click",()=>{n.scrollBy({left:220,behavior:"smooth"})}),t.forEach(e=>{e.addEventListener("click",function(){var e=this.dataset.thumbnail,t=this.dataset.snippet,o=this.dataset.video,s=this.dataset.author;c.querySelector("img").src=e,r.textContent=t;let n=document.getElementById("video-author-main");n||(n=document.createElement("p"),n.id="video-author-main",r.parentNode.insertBefore(n,r.nextSibling)),n.textContent=s,l.dataset.video=o,c.scrollIntoView({behavior:"smooth"})})}),l.addEventListener("click",function(){var e=this.dataset.video;s.src=e,o.style.display="block",s.style.width="100%",s.style.height="100%",s.play()}),e.addEventListener("click",function(){o.style.display="none",s.pause(),s.currentTime=0}),window.addEventListener("click",function(e){e.target==o&&(o.style.display="none",s.pause(),s.currentTime=0)}),0<t.length){var p=t[0];c.querySelector("img").src=p.dataset.thumbnail,r.textContent=p.dataset.snippet;let e=document.createElement("p");e.id="video-author-main",e.textContent=p.dataset.author,r.parentNode.insertBefore(e,r.nextSibling),l.dataset.video=p.dataset.video}function h(o){d.forEach((e,t)=>{t===o?(e.classList.add("active"),u[t].classList.add("active")):(e.classList.remove("active"),u[t].classList.remove("active"))})}h(v),d.forEach((e,t)=>{e.addEventListener("click",()=>{h(t),v=t})}),setInterval(()=>{v=(v+1)%d.length,h(v)},15e3);const f=document.getElementById("cv-request-form");var E=f.querySelectorAll(".form-step");const q=document.querySelectorAll(".progress-indicator .step"),L=f.querySelectorAll(".next-step"),S=f.querySelectorAll(".prev-step");function b(e){const t=e.querySelectorAll("input[required], select[required]");let o=!0;return t.forEach(e=>{e.value?e.classList.remove("error"):(o=!1,e.classList.add("error"))}),o}function g(o){q.forEach(e=>{const t=e.closest(".step-item");e.dataset.step<=o?(e.classList.add("active"),t.querySelector(".step-label").style.color="#004080"):(e.classList.remove("active"),t.querySelector(".step-label").style.color="#666")})}L.forEach(o=>{o.addEventListener("click",()=>{const e=o.closest(".form-step"),t=e.nextElementSibling;b(e)&&(e.classList.remove("active"),t.classList.add("active"),g(t.dataset.step))})}),S.forEach(o=>{o.addEventListener("click",()=>{const e=o.closest(".form-step"),t=e.previousElementSibling;e.classList.remove("active"),t.classList.add("active"),g(t.dataset.step)})}),f.addEventListener("submit",function(e){b(E[E.length-1])||e.preventDefault()})});
